<div class="title">Passwort ändern</div>

<form [formGroup]="form">
    <mat-form-field>
        <input matInput type="password" formControlName="oldPassword" placeholder="Altes Passwort">
        <mat-error *ngIf="control('oldPassword').invalid">
            Bitteg geben Sie ein gültiges Passwort ein!
        </mat-error>
    </mat-form-field>
    <mat-form-field>
        <input matInput type="password" formControlName="newPassword" placeholder="Neues Passwort">
        <mat-error *ngIf="control('newPassword').invalid">
            Das Passwort muss mindestens 8 Zeichen lang sein, einen 1 Klein-Buchstaben, einen 1 Großbuchstaben eine Zahl und ein sonderzeichen enthalten.
        </mat-error>
    </mat-form-field>
    <mat-form-field>
        <input matInput type="password" formControlName="newPasswordRetry" placeholder="Passwort wiederholen">
        <mat-error *ngIf="control('newPasswordRetry').invalid">
            Die eingegebenen Passwörter stimmen nicht überein!
        </mat-error>
    </mat-form-field>

    <div class="buttons">
        <button mat-raised-button color="primary" [attr.disabled]="(pending$ | async)" (click)="update()" type="submit">
            <span *ngIf="!(pending$ | async)">
                Übernehmen
            </span>
            <mat-progress-spinner class="spinner" diameter="14" *ngIf="(pending$ | async)" mode="indeterminate">
            </mat-progress-spinner>
        </button>
        <button mat-button (click)="cancel()">Abbrechen</button>
    </div>
</form>